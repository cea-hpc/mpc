<?xml version="1.0"?>
<!DOCTYPE config SYSTEM "../MPC_Config/extra/config-meta.dtd">
<config>
	<usertypes>
		<struct name="thread" doc="Options for MPC threads.">
			<param name="spin_delay" type="int" default="10" doc="Max number of accesses to the lock before calling thread_yield"/>
			<param name="interval" type="int" default="10" doc=""/>
			<param name="kthread_stack_size" type="size" default="10MB" doc="Define the stack size of MPC user threads"/>
			<param name="placement_policy" type="funcptr" doc="Initialize thread placement policy" default="mpc_thread_get_task_placement_and_count_default"/>
		</struct>
        <struct name="scheduler" doc="Scheduler priority parameters">
            <param name="timestamp_threshold" type="double" default="0.0" doc="Threshold for priority scheduling quantum"/>

            <param name="task_polling_thread_basic_priority" type="int" default="20" doc="Basic priority of polling tasks"/>
            <param name="task_polling_thread_basic_priority_step" type="int" default="20" doc="Step of basic priority of polling tasks"/>
            <param name="task_polling_thread_current_priority_step" type="int" default="20" doc="Step of current priority of polling tasks"/>

            <param name="sched_NBC_Pthread_basic_priority" type="int" default="20" doc="Basic priority of polling tasks"/>
            <param name="sched_NBC_Pthread_basic_priority_step" type="int" default="20" doc="Step of basic priority of nbc progress threads"/>
            <param name="sched_NBC_Pthread_current_priority_step" type="int" default="20" doc="Step of current priority of nbc progress threads"/>

            <param name="mpi_basic_priority" type="int" default="20" doc="Basic priority of MPI threads"/>
            <param name="omp_basic_priority" type="int" default="20" doc="Basic priority of OMP threads"/>
            <param name="posix_basic_priority" type="int" default="20" doc="Basic priority of POSIX threads"/>
            <param name="progress_basic_priority" type="int" default="20" doc="Basic priority of POSIX threads"/>
        </struct>
	<struct name="accl_cuda" doc="CUDA-specific configuration">
		<param name="enabled" type="bool" default="false" doc="Set to true to enable CUDA context-switch" />
	</struct>
	<struct name="accl_openacc" doc="OpenACC-specific configuration">
		<param name="enabled" type="bool" default="false" doc="Set to true to enable OpenACC in MPC" />
	</struct>
	<struct name="accl_opencl" doc="OpenCL-specific configuration">
		<param name="enabled" type="bool" default="false" doc="Set to true to enable OpenCL in MPC" />
	</struct>

	<struct name="accl" doc="Options for MPC Accelerators module.">
		<param name="enabled" type="bool" default="false" doc="Set to true to enable Accelerators support" />
		<param name="cuda" type="accl_cuda" doc="Define CUDA-specific configuration" />
		<param name="openacc" type="accl_openacc" doc="Define OpenACC-specific configuration" />
		<param name="opencl" type="accl_opencl" doc="Define OpenCL-specific configuration" />
	</struct>
	</usertypes>
	<modules>
		<module name="thread" type="thread"/>
		<module name="scheduler" type="scheduler"/>
		<module name="accelerator" type="accl"/>
	</modules>
</config>
