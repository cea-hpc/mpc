<?xml version="1.0"?>
<all>
<config name="MPC_Allocator">
	<usertypes>
		<struct name="test" doc="This is a test structure.">
			<param name="tt" type="int" default="10" doc="This is a test"/>
		</struct>
		<struct name="rail" doc="This is a fake for rails">
			<param name="tt" type="int" default="10" doc="This is a test"/>
			<param name="tt2" type="int" default="20" doc="This is a test"/>
		</struct>
		<union name="driver" doc="Define the list of drivers supported for MPC network.">
				<choice name="test" type="test"/>
				<choice name="rail" type="rail"/>
		</union>
		<struct name="allocator"     doc="Options for MPC allocator.">
			<param name="numa"       type="bool"   default="false"        doc="Permit to enable of disable NUMA support in MPC Allocator."/>
			<param name="profile"    type="bool"   default="false"        doc="Enable of disable usage of allocator profiler."/>
			<param name="alstring"   type="string" default="TestTestTest" doc="Sample string"/>
			<param name="aldouble"   type="double" default="42.42"        doc="Sample double"/>
			<param name="alfloat"    type="float"  default="42.42"        doc="Sample float"/>
			<param name="alsize"     type="size"   default="2PB"          doc="Sample size entry"/>
			<param name="warnings"   type="bool"   default="false"        doc="Permit to enable of disable allocator warnings."/>
			<param name="test"       type="test"   doc="Try to use test structure." />
			<array name="classes" entry-name="class" type="int" doc="Permit to list all available size classes."/>
			<array name="classes2" entry-name="class2" type="int" doc="Permit to list all available size classes.">
				<default>
					<value>0</value>
					<value>1</value>
					<value>10</value>
				</default>
			</array>
			<array name="array_string" entry-name="st" type="string" doc="Array of strings">
				<default>
					<value>"0"</value>
					<value>"1"</value>
					<value>"10"</value>
				</default>
			</array>
			<array name="rails" entry-name="rail" doc="blablabla" type="rail"/>
			<param name="driver" type="driver" doc="This is a super doc"/>
			<array name="driverlist" entry-name="driver" type="driver" doc="blabla"/>
		</struct>
	</usertypes>
	<modules>
		<module name="allocator" type="allocator"/>
	</modules>
</config>
<config name="MPC_Common">
	<usertypes>
		<struct name="launcher" doc="Options for MPC launcher.">
			<param name="smt" type="bool" default="false" doc="blablabla"/>
			<param name="cores" type="int" default="16" doc="blabla"/>
			<param name="verbosity" type="int" default="0" doc="blabla"/>
		</struct>
	</usertypes>
	<modules>
		<module name="launcher" type="launcher"/>
	</modules>
</config>
<config name="MPC_Message_Passing">
	<usertypes>

		<!-- Structure for infiniband driver -->
		<struct name="net_driver_fake" doc="Declare a fake driver to test the configuration system.">
			<param name="buffer" type="int" doc="Size of the buffer used for internal copies." default ="1024"/>
			<param name="stealing" type="bool" doc="Enable stealing between threads." default="true"/>
		</struct>

		<!-- Union to merge drivers -->
		<union name="net_driver" doc="Define a specific configuration for a network driver to apply in rails.">
			<choice name="infiniband" type="net_driver_fake"/>
			<choice name="tcp" type="net_driver_fake"/>
		</union>

		<!-- define a network driver config -->
		<struct name="net_driver_config" doc="Contain a list of driver configuration reused by rail definitions.">
			<param name="name" type="string" doc="Name of the driver configuration to be referenced in rail definitions."/>
			<param name="driver" type="net_driver" doc="Define the related driver to use and its configuration."/>
		</struct>

		<!-- Structure for rail definition -->
		<struct name="net_rail" doc="Define a rail which is a name, a device associate to a driver and a routing topology.">
			<param name="name" type="string" doc="Define the name of current rail."/>
			<param name="device" type="string" doc="Define the name of the device to use in this rail."/>
			<param name="topology" type="string" doc="Define the network topology to apply on this rail."/>
			<param name="config" type="string" doc="Define the driver config to use for this rail."/>
		</struct>

		<!-- root structure of network config -->
		<struct name="networks" doc="Base structure to contain the network configuration">
			<array name="configs" entry-name="config" type="net_driver_config" doc="Define the configuration driver list to reuse in rail definitions."/>
			<array name="rails" entry-name="rail" type="net_rail" doc="List of rails to declare in MPC."/>
		</struct>

	</usertypes>
</config>
<config name="MPC_Profiler">
	<usertypes>
		<struct name="profiler"     doc="Options for the internal MPC Profiler">
			<param name="file_prefix"   type="string" default="mpc_profile" doc="Prefix of MPC Profiler outputs"/>
			<param name="append_date"   type="bool" default="true" doc="Add a timestamp to profiles file names"/>

			<array name="level_colors" entry-name="level" type="string" doc="Color for levels of profiler output">
				<default>
					<value>"#3A4D85"</value>
					<value>"#82A2FF"</value>
					<value>"#B8BDCB"</value>
					<value>"#5D6782"</value>
					<value>"#838383"</value>
					<value>"#5A5757"</value>
				</default>
			</array>
		</struct>
	</usertypes>
	<modules>
		<module name="profiler" type="profiler"/>
	</modules>
	<validators>
		<handler>sctk_runtime_config_empty_validator_for_test</handler>
	</validators>
</config>
</all>
